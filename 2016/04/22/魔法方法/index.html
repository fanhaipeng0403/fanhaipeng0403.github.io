<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>魔法方法 | 好记性不如烂笔头</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">魔法方法</h1><a id="logo" href="/.">好记性不如烂笔头</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">魔法方法</h1><div class="post-meta">Apr 22, 2016</div><div class="post-content"><div class="t_fsz"><br><table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_1932013"><strong><font color="#FF0000"></font></strong><br><br><font size="3">据说，Python 的对象天生拥有一些神奇的方法，它们总被双下划线所包围，他们是面向对象的 Python 的一切。<br><br><br><br>他们是可以给你的类增加魔力的特殊方法，如果你的对象实现（重载）了这些方法中的某一个，那么这个方法就会在特殊的情况下被 Python 所调用，你可以定义自己想要的行为，而这一切都是自动发生的。</font><font size="3"><br><br></font><br><br><font size="3">Python 的魔术方法非常强大，然而随之而来的则是责任。了解正确的方法去使用非常重要！<br><br></font><br><br><a id="more"></a><br><font size="3"><br><br></font><table cellspacing="0" class="t_table" style="width:98%"><tbody><tr><td width="30%"><div align="center"><strong> 魔法方法</strong></div></td><td><div align="center"><strong>含义 </strong></div></td></tr><tr><td><br><br></td><td><div align="left"><div align="center"><font color="#ff0000"><strong> 基本的魔法方法</strong></font></div></div></td></tr><tr><td><strong>new</strong>(cls[, …]) </td><td> 1. <strong>new</strong> 是在一个对象实例化的时候所调用的第一个方法<br><br>2. 它的第一个参数是这个类，其他的参数是用来直接传递给 <strong>init</strong> 方法<br><br>3. <strong>new</strong> 决定是否要使用该 <strong>init</strong> 方法，因为 <strong>new</strong> 可以调用其他类的构造方法或者直接返回别的实例对象来作为本类的实例，如果 <strong>new</strong> 没有返回实例对象，则 <strong>init</strong> 不会被调用<br><br>4. <strong>new</strong> 主要是用于继承一个不可变的类型比如一个 tuple 或者 string</td></tr><tr><td> <strong>init</strong>(self[, …]) </td><td>构造器，当一个实例被创建的时候调用的初始化方法</td></tr><tr><td> <strong>del</strong>(self)</td><td> 析构器，当一个实例被销毁的时候调用的方法</td></tr><tr><td> <strong>call</strong>(self[, args…]) </td><td>允许一个类的实例像函数一样被调用：x(a, b) 调用 x.<strong>call</strong>(a, b)</td></tr><tr><td> <strong>len</strong>(self)</td><td> 定义当被 len() 调用时的行为</td></tr><tr><td><strong>repr</strong>(self)</td><td> 定义当被 repr() 调用时的行为</td></tr><tr><td> <strong>str</strong>(self)</td><td> 定义当被 str() 调用时的行为</td></tr><tr><td> <strong>bytes</strong>(self)</td><td> 定义当被 bytes() 调用时的行为</td></tr><tr><td> <strong>hash</strong>(self)</td><td> 定义当被 hash() 调用时的行为</td></tr><tr><td> <strong>bool</strong>(self)</td><td> 定义当被 bool() 调用时的行为，应该返回 True 或 False</td></tr><tr><td><strong>format</strong>(self, format_spec)</td><td> 定义当被 format() 调用时的行为</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>有关属性</strong></font></div></td></tr><tr><td> <strong>getattr</strong>(self, name)</td><td> 定义当用户试图获取一个不存在的属性时的行为</td></tr><tr><td> <strong>getattribute</strong>(self, name)</td><td> 定义当该类的属性被访问时的行为</td></tr><tr><td> <strong>setattr</strong>(self, name, value)</td><td> 定义当一个属性被设置时的行为</td></tr><tr><td> <strong>delattr</strong>(self, name)</td><td> 定义当一个属性被删除时的行为</td></tr><tr><td> <strong>dir</strong>(self)</td><td> 定义当 dir() 被调用时的行为</td></tr><tr><td> <strong>get</strong>(self, instance, owner)</td><td> 定义当描述符的值被取得时的行为</td></tr><tr><td> <strong>set</strong>(self, instance, value)</td><td> 定义当描述符的值被改变时的行为</td></tr><tr><td> <strong>delete</strong>(self, instance)</td><td> 定义当描述符的值被删除时的行为</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>比较操作符</strong></font></div></td></tr><tr><td> <strong>lt</strong>(self, other)</td><td> 定义小于号的行为：x &lt; y 调用 x.<strong>lt</strong>(y)</td></tr><tr><td> <strong>le</strong>(self, other)</td><td> 定义小于等于号的行为：x &lt;= y 调用 x.<strong>le</strong>(y)</td></tr><tr><td> <strong>eq</strong>(self, other)</td><td> 定义等于号的行为：x == y 调用 x.<strong>eq</strong>(y)</td></tr><tr><td> <strong>ne</strong>(self, other)</td><td> 定义不等号的行为：x != y 调用 x.<strong>ne</strong>(y)</td></tr><tr><td> <strong>gt</strong>(self, other)</td><td> 定义大于号的行为：x &gt; y 调用 x.<strong>gt</strong>(y)</td></tr><tr><td> <strong>ge</strong>(self, other)</td><td> 定义大于等于号的行为：x &gt;= y 调用 x.<strong>ge</strong>(y)</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>算数运算符</strong></font></div></td></tr><tr><td> <strong>add</strong>(self, other)</td><td> 定义加法的行为：+</td></tr><tr><td> <strong>sub</strong>(self, other)</td><td>定义减法的行为：- </td></tr><tr><td> <strong>mul</strong>(self, other)</td><td> 定义乘法的行为：<em></em></td></tr><tr><td> <strong>truediv</strong>(self, other)</td><td> 定义真除法的行为：/</td></tr><tr><td> <strong>floordiv</strong>(self, other)</td><td> 定义整数除法的行为：//</td></tr><tr><td> <strong>mod</strong>(self, other)</td><td> 定义取模算法的行为：%</td></tr><tr><td> <strong>divmod</strong>(self, other)</td><td> 定义当被 divmod() 调用时的行为</td></tr><tr><td> <strong>pow</strong>(self, other[, modulo]) </td><td> 定义当被 power() 调用或 ** 运算时的行为</td></tr><tr><td> <strong>lshift</strong>(self, other)</td><td> 定义按位左移位的行为：&lt;&lt;</td></tr><tr><td> <strong>rshift</strong>(self, other)</td><td>定义按位右移位的行为：&gt;&gt;</td></tr><tr><td> <strong>and</strong>(self, other)</td><td> 定义按位与操作的行为：&amp;</td></tr><tr><td> <strong>xor</strong>(self, other)</td><td> 定义按位异或操作的行为：^</td></tr><tr><td> <strong>or</strong>(self, other)</td><td>定义按位或操作的行为：| </td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong> 反运算</strong></font></div></td></tr><tr><td> <strong>radd</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rsub</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rmul</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rtruediv</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rfloordiv</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rmod</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rdivmod</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rpow</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rlshift</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rrshift</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rand</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>rxor</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> <strong>ror</strong>(self, other)</td><td> （与上方相同，当左操作数不支持相应的操作时被调用）</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>增量赋值运算</strong></font></div></td></tr><tr><td> <strong>iadd</strong>(self, other)</td><td> 定义赋值加法的行为：+=</td></tr><tr><td> <strong>isub</strong>(self, other)</td><td> 定义赋值减法的行为：-=</td></tr><tr><td> <strong>imul</strong>(self, other)</td><td> 定义赋值乘法的行为：=</td></tr><tr><td> <strong>itruediv</strong>(self, other)</td><td> 定义赋值真除法的行为：/=</td></tr><tr><td> <strong>ifloordiv</strong>(self, other)</td><td> 定义赋值整数除法的行为：//=</td></tr><tr><td> <strong>imod</strong>(self, other)</td><td> 定义赋值取模算法的行为：%=</td></tr><tr><td> <strong>ipow</strong>(self, other[, modulo])</td><td> 定义赋值幂运算的行为：**=</td></tr><tr><td> <strong>ilshift</strong>(self, other)</td><td> 定义赋值按位左移位的行为：&lt;&lt;=</td></tr><tr><td> <strong>irshift</strong>(self, other)</td><td> 定义赋值按位右移位的行为：&gt;&gt;=</td></tr><tr><td> <strong>iand</strong>(self, other)</td><td> 定义赋值按位与操作的行为：&amp;=</td></tr><tr><td> <strong>ixor</strong>(self, other)</td><td> 定义赋值按位异或操作的行为：^=</td></tr><tr><td> <strong>ior</strong>(self, other)</td><td> 定义赋值按位或操作的行为：|=</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>一元操作符</strong></font></div></td></tr><tr><td> <strong>pos</strong>(self)</td><td> 定义正号的行为：+x</td></tr><tr><td> <strong>neg</strong>(self)</td><td> 定义负号的行为：-x</td></tr><tr><td> <strong>abs</strong>(self)</td><td> 定义当被 abs() 调用时的行为</td></tr><tr><td> <strong>invert</strong>(self)</td><td> 定义按位求反的行为：~x</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>类型转换</strong></font></div></td></tr><tr><td> <strong>complex</strong>(self)</td><td> 定义当被 complex() 调用时的行为（需要返回恰当的值）</td></tr><tr><td> <strong>int</strong>(self)</td><td> 定义当被 int() 调用时的行为（需要返回恰当的值）</td></tr><tr><td> <strong>float</strong>(self)</td><td> 定义当被 float() 调用时的行为（需要返回恰当的值）</td></tr><tr><td> <strong>round</strong>(self[, n])</td><td> 定义当被 round() 调用时的行为（需要返回恰当的值）</td></tr><tr><td> <strong>index</strong>(self)</td><td> 1. 当对象是被应用在切片表达式中时，实现整形强制转换<br><br>2. 如果你定义了一个可能在切片时用到的定制的数值型,你应该定义 <strong>index</strong><br><br>3. 如果 <strong>index</strong> 被定义，则 <strong>int</strong> 也需要被定义，且返回相同的值</td></tr><tr><td> </td><td><div align="center"><font color="#ff0000"><strong>上下文管理（with 语句）</strong></font></div></td></tr><tr><td> <strong>enter</strong>(self)</td><td> 1. 定义当使用 with 语句时的初始化行为<br><br>2. <strong>enter</strong> 的返回值被 with 语句的目标或者 as 后的名字绑定</td></tr><tr><td> <strong>exit</strong>(self, exc_type, exc_value, traceback)</td><td> 1. 定义当一个代码块被执行或者终止后上下文管理器应该做什么<br><br>2. 一般被用来处理异常，清除工作或者做一些代码块执行完毕之后的日常工作</td></tr><tr><td> </td><td><div align="center"><strong><font color="#ff0000">容器类型</font></strong></div></td></tr><tr><td> <strong>len</strong>(self)</td><td> 定义当被 len() 调用时的行为（返回容器中元素的个数）</td></tr><tr><td> <strong>getitem</strong>(self, key)</td><td> 定义获取容器中指定元素的行为，相当于 self[key]</td></tr><tr><td> <strong>setitem</strong>(self, key, value)</td><td> 定义设置容器中指定元素的行为，相当于 self[key] = value</td></tr><tr><td> <strong>delitem</strong>(self, key)</td><td> 定义删除容器中指定元素的行为，相当于 del self[key]</td></tr><tr><td> <strong>iter</strong>(self)</td><td> 定义当迭代容器中的元素的行为</td></tr><tr><td> <strong>reversed</strong>(self)</td><td> 定义当被 reversed() 调用时的行为</td></tr><tr><td> <strong>contains</strong>(self, item)</td><td> 定义当使用成员测试运算符（in 或 not in）时的行为</td></tr></tbody></table><br><br><br><br></td></tr></tbody></table><br><br><br></div>
</div><div class="tags"><a href="/tags/Python/">Python</a></div><div class="post-nav"><a class="pre" href="/2016/04/27/数据可视化/">数据可视化</a><a class="next" href="/2016/04/16/调试小知识/">调试小知识</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://iusepython.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spider/">Spider</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/sqlalchemy/" style="font-size: 15px;">sqlalchemy</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/Frontend/" style="font-size: 15px;">Frontend</a> <a href="/tags/FrontEnd/" style="font-size: 15px;">FrontEnd</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Deploy/" style="font-size: 15px;">Deploy</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/IDE/" style="font-size: 15px;">IDE</a> <a href="/tags/Database/" style="font-size: 15px;">Database</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Virtualenv/" style="font-size: 15px;">Virtualenv</a> <a href="/tags/flask/" style="font-size: 15px;">flask</a> <a href="/tags/Html/" style="font-size: 15px;">Html</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/node-js/" style="font-size: 15px;">node.js</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/Spider/" style="font-size: 15px;">Spider</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/zsh/" style="font-size: 15px;">zsh</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Others/" style="font-size: 15px;">Others</a> <a href="/tags/DA/" style="font-size: 15px;">DA</a> <a href="/tags/Socket/" style="font-size: 15px;">Socket</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/17/Nginx配置本地域名路由/">Nginx配置本地域名路由</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/17/网络概念整理/">网络概念整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/17/Git Rebase/">Git Rebase</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/04/Python类中使用-call/">Python类中使用__call__</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/02/Sqlalchemy/">Sqlalchemy</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/Python-try-except-else/">Python_try_except_else</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/Python的-str/">Python的__str__</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/27/数据分析相关概念整理/">数据分析相关概念整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/Python私有变量/">Python私有变量</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/Ubuntu系统崩溃问题/">Ubuntu系统崩溃问题</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://github.com/fanhaipeng0403" title="Github" target="_blank">Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">好记性不如烂笔头.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>