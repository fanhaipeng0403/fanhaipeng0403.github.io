<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Nginx | 好记性不如烂笔头</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Nginx</h1><a id="logo" href="/.">好记性不如烂笔头</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Nginx</h1><div class="post-meta">Sep 30, 2016</div><div class="post-content"><h2 id="彻底删除"><a href="#彻底删除" class="headerlink" title="彻底删除"></a>彻底删除</h2><p>1.先执行一下命令：<br>sudo apt-get –purge remove nginx<br>sudo apt-get autoremove<br>dpkg –get-selections|grep nginx<br>罗列出与nginx相关的软件， nginx-common deinstall 然后<br>sudo apt-get –purge remove nginx-common<br>这样就可以完全卸载掉nginx包括配置文件<br>2.ps -ef |grep nginx 看下nginx还有没有启动,一般执行完1后，nginx还是启动着的，如下：<br>bkxmgx@ubuntu:/$ ps -ef |grep nginx<br>root     4061  2418  0 Mar11 ?        00:00:00 nginx: master processsbin/nginx<br>nobody   4062  4061  0 Mar11 ?        00:00:00 nginx: worker process<br>bkxmgx  15487  4229  0 01:13 pts/0    00:00:00 grep –color=auto nginx<br>3.kill   nginx进程<br>sudo kill -9  4061  4062</p>
<p>4.sudo  find  / -name  nginx*<br>/usr/local/src/nginx-1.7.9<br>/usr/local/src/nginx-1.7.9/objs/src/core/nginx.o<br>/usr/local/src/nginx-1.7.9/objs/nginx.8<br>/usr/local/src/nginx-1.7.9/objs/nginx<br>/usr/local/src/nginx-1.7.9/src/http/modules/perl/nginx.xs<br>/usr/local/src/nginx-1.7.9/src/http/modules/perl/nginx.pm<br>/usr/local/src/nginx-1.7.9/src/core/nginx.c<br>/usr/local/src/nginx-1.7.9/src/core/nginx.h<br>/usr/local/src/nginx-1.7.9/man/nginx.8<br>/usr/local/src/nginx-1.7.9/conf/nginx.conf<br>/usr/local/src/nginx-1.7.9/contrib/vim/syntax/nginx.vim<br>/usr/local/src/nginx-1.7.9/contrib/vim/ftdetect/nginx.vim<br>/usr/local/src/nginx-1.7.9/contrib/vim/indent/nginx.vim<br>/usr/local/nginx<br>/usr/local/nginx/logs/nginx.pid<br>/usr/local/nginx/conf/nginx.conf.default<br>/usr/local/nginx/conf/nginx.conf<br>/usr/local/nginx/sbin/nginx<br>/home/bkxmgx/nginx.conf<br>/home/bkxmgx/nginx-1.7.9.tar.gz<br>/home/bkxmgx/桌面/nginx.conf<br>/home/bkxmgx/桌面/nginx~<br>/home/bkxmgx/桌面/nginx</p>
<p>5.依依删除4列出的所有文件<br>sudo rm  -r  /usr/local/src/nginx-1.7.9<br>sudo rm  -r  /usr/local/nginx<br>sudo rm  -r  /usr/local/nginx/logs/nginx.pid<br>sudo rm  -r  /usr/local/nginx/conf/nginx.conf.default<br>sudo rm  -r  /usr/local/nginx/conf/nginx.conf<br>sudo rm  -r  /usr/local/nginx/sbin/nginx<br>sudo rm  -r  /home/bkxmgx/nginx.conf<br>sudo rm  -r  /home/bkxmgx/桌面/nginx.conf<br>sudo rm  -r  /home/bkxmgx/桌面/nginx~<br>sudo rm  -r  /home/bkxmgx/桌面/nginx</p>
<p>这样就彻底删除nginx了</p>
<h2 id="卸载apache"><a href="#卸载apache" class="headerlink" title="卸载apache"></a>卸载apache</h2><p>所以先卸载apache2，不然你在访问服务器的时候会一直是apache2 的页面<br><a href="http://www.linuxidc.com/Linux/2013-06/85825.htm" target="_blank" rel="noopener">http://www.linuxidc.com/Linux/2013-06/85825.htm</a></p>
<h2 id="Nginx安装"><a href="#Nginx安装" class="headerlink" title="Nginx安装"></a>Nginx安装</h2><p>安装Nginx</p>
<p>（1）在线安装</p>
<p>$sudo apt-get install nginx</p>
<p>Nginx的版本是1.2.1</p>
<p>ubuntu安装Nginx之后的文件结构大致为：</p>
<p>所有的配置文件都在/etc/nginx下，并且每个虚拟主机已经安排在了/etc/nginx/sites-available下</p>
<p>启动程序文件在/usr/sbin/nginx</p>
<p>日志放在了/var/log/nginx中，分别是access.log和error.log</p>
<p>并已经在/etc/init.d/下创建了启动脚本nginx</p>
<p>默认的虚拟主机的目录设置在了/usr/share/nginx/www</p>
<h2 id="启动Nginx"><a href="#启动Nginx" class="headerlink" title="启动Nginx"></a>启动Nginx</h2><p>（1）在线安装的启动过程</p>
<p>$sudo /etc/init.d/nginx start</p>
<p>（2）源代码安装的启动过程</p>
<p>$cd /usr/local/nginx</p>
<p>$sbin/nginx</p>
<p>然后就可以访问了，<a href="http://localhost/" target="_blank" rel="noopener">http://localhost/</a> ， 一切正常！如果不能访问，先不要继续，看看是什么原因，</p>
<p>解决之后再继续。</p>
<p>如果你的机器同时安装了Apache，那上面的访问方式就不能使用了，而且nginx都可能启动不了，这是因为它们都是用了80这个端口。我们这里将nginx的端口修改为8080，</p>
<p>使用apt-get安装的nginx配置文件为： /etc/nginx/sites-available/default，可以用sudo vim /etc/nginx/sites-available/default命令打开。看到如：server {<br>listen 80;</p>
<p>其中，listen 80;指的是监听80端口。只需修改为listen 8080即可。</p>
<p>说明：修改端口后，在输入网址时需指定端口号，如localhost:8080，否则显示错误。而默认的80端口在输入网址时可以省略（往往不加上去）。</p>
<p>然后就可以访问了，<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> 。</p>
<p><a href="http://www.ziqiangxuetang.com/django/django-nginx-deploy.html" target="_blank" rel="noopener">http://www.ziqiangxuetang.com/django/django-nginx-deploy.html</a><br><a href="http://chenpeng.info/html/3472" target="_blank" rel="noopener">http://chenpeng.info/html/3472</a><br><a href="http://www.mamicode.com/info-detail-1370140.html" target="_blank" rel="noopener">http://www.mamicode.com/info-detail-1370140.html</a></p>
</div><div class="tags"><a href="/tags/Nginx/">Nginx</a></div><div class="post-nav"><a class="pre" href="/2016/10/31/资料库/">知识谱</a><a class="next" href="/2016/08/29/Virtualenv/">Virtualenv</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://iusepython.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Frontend/">Frontend</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spider/">Spider</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Database/" style="font-size: 15px;">Database</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/Frontend/" style="font-size: 15px;">Frontend</a> <a href="/tags/FrontEnd/" style="font-size: 15px;">FrontEnd</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Deploy/" style="font-size: 15px;">Deploy</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/IDE/" style="font-size: 15px;">IDE</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/sqlalchemy/" style="font-size: 15px;">sqlalchemy</a> <a href="/tags/Virtualenv/" style="font-size: 15px;">Virtualenv</a> <a href="/tags/flask/" style="font-size: 15px;">flask</a> <a href="/tags/Html/" style="font-size: 15px;">Html</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/node-js/" style="font-size: 15px;">node.js</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/Spider/" style="font-size: 15px;">Spider</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/zsh/" style="font-size: 15px;">zsh</a> <a href="/tags/English/" style="font-size: 15px;">English</a> <a href="/tags/Others/" style="font-size: 15px;">Others</a> <a href="/tags/DA/" style="font-size: 15px;">DA</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/06/04/Python类中使用-call/">Python类中使用__call__</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/02/Sqlalchemy/">Sqlalchemy</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/Python-try-except-else/">Python_try_except_else</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/Python的-str/">Python的__str__</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/27/数据分析相关概念整理/">数据分析相关概念整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/Python私有变量/">Python私有变量</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/Ubuntu系统崩溃问题/">Ubuntu系统崩溃问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/Python的-init-文件/">Python的__init__文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/11/API/">API</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/10/Python包工具梳理/">Python包工具梳理</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://github.com/fanhaipeng0403" title="Github" target="_blank">Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">好记性不如烂笔头.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>