<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Ubuntu(Debian)的aptitude与apt-get的区别和联系 | 好记性不如烂笔头</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Ubuntu(Debian)的aptitude与apt-get的区别和联系</h1><a id="logo" href="/.">好记性不如烂笔头</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Ubuntu(Debian)的aptitude与apt-get的区别和联系</h1><div class="post-meta">May 4, 2016<span> | </span><span class="category"><a href="/categories/Linux/">Linux</a></span></div><div class="post-content"><p>转载于　<a href="http://www.cnblogs.com/yuxc/archive/2012/08/02/2620003.html" target="_blank" rel="noopener">http://www.cnblogs.com/yuxc/archive/2012/08/02/2620003.html</a></p>
<p>Ubuntu(Debian)的aptitude与apt-get的区别和联系</p>
<pre><code>最近在使用Puppet快速部署Openstack，看到一些没见过的工具，例如aptitude，在Ubuntu上有强大的apt-get为什么还要用这个呢。本文转自：http://hi.baidu.com/52safe/blog/item/c17891ff02201653d6887d96.html
</code></pre><p>　　起初GNU/Linux系统中只有.tar.gz。用户 必须自己编译他们想使用的每一个程序。在Debian出现之後，人们认为有必要在系统 中添加一种机 制用来管理 安装在计算机上的软件包。人们将这套系统称为dpkg。至此着名的‘package’首次在GNU/Linux上出现。不久之後红帽子也开始着 手建立自己的包管理系统 ‘rpm’。</p>
<p>GNU/Linux的创造者们很快又陷入了新的窘境。他们希望通过一种快捷、实用而且高效的方式来安装软件包。这些软件包可以自动处理相互之间 的依赖关系，并且在升级过程中维护他们的配置文件 。Debian又一次充当了开路先锋的角色。她首创了APT（Advanced Packaging Tool）。这一工具後来被Conectiva 移植到红帽子系统中用于对rpm包的管理。在其他一些发行版中我们也能看到她的身影。</p>
<p>“同时，apt是一个很完整和先进的软件包管理程序，使用它可以让你，又简单，又准确的找到你要的的软件包， 并且安装或卸载都很简洁。 它还可以让你的所有软件都更新到最新状态，而且也可以用来对ubuntu 进行升级。”</p>
<p>“apt是需要用命令 来操作的软件，不过现在也出现了很多有图形的软件，比如Synaptic, Kynaptic 和 Adept。”</p>
<p>命令</p>
<p>下面将要介绍的所有命令都需要sudo！使用时请将“packagename”和“string”替换成您想要安装或者查找的程序。</p>
<ul>
<li><p>apt-get update——在修改/etc/apt/sources.list或者/etc/apt/preferences之後运行该命令。此外您需要定期运行这一命令以确保您的软件包列表是最新的。</p>
</li>
<li><p>apt-get install packagename——安装一个新软件包（参见下文的aptitude ）</p>
</li>
<li><p>apt-get remove packagename——卸载一个已安装的软件包（保留配置文件）</p>
</li>
<li><p>apt-get –purge remove packagename——卸载一个已安装的软件包（删除配置文件）</p>
</li>
<li><p>dpkg –force-all –purge packagename 有些软件很难卸载，而且还阻止了别的软件的应用 ，就可以用这个，不过有点冒险。</p>
</li>
<li><p>apt-get autoclean apt会把已装或已卸的软件都备份在硬盘上，所以如果需要空间 的话，可以让这个命令来删除你已经删掉的软件</p>
</li>
<li><p>apt-get clean 这个命令会把安装的软件的备份也删除，不过这样不会影响软件的使用的。</p>
</li>
<li><p>apt-get upgrade——更新所有已安装的软件包</p>
</li>
<li><p>apt-get dist-upgrade——将系统升级到新版本</p>
</li>
<li><p>apt-cache search string——在软件包列表中搜索字符串</p>
</li>
<li><p>dpkg -l package-name-pattern——列出所有与模式相匹配的软件包。如果您不知道软件包的全名，您可以使用“<em>package-name-pattern</em>”。</p>
</li>
<li><p>aptitude——详细查看已安装或可用的软件包。与apt-get类似，aptitude可以通过命令行方式调用，但仅限于某些命令——最常见的有安装和卸载命令。由于aptitude比apt-get了解更多信息，可以说它更适合用来进行安装和卸载。</p>
</li>
<li><p>apt-cache showpkg pkgs——显示软件包信息。</p>
</li>
<li><p>apt-cache dumpavail——打印可用软件包列表。</p>
</li>
<li><p>apt-cache show pkgs——显示软件包记录，类似于dpkg –print-avail。</p>
</li>
<li><p>apt-cache pkgnames——打印软件包列表中所有软件包的名称。</p>
</li>
<li><p>dpkg -S file——这个文件属于哪个已安装软件包。</p>
</li>
<li><p>dpkg -L package——列出软件包中的所有文件。</p>
</li>
<li><p>apt-file search filename——查找包含特定文件的软件包（不一定是已安装的），这些文件的文件名中含有指定的字符串。apt-file是一个独立的软件包。您必须先使用apt-get install来安装它，然後运行apt-file update。如果apt-file search filename输出的内容太多，您可以尝试使用apt-file search filename | grep -w filename（只显示指定字符串作为完整的单词出现在其中的那些文件名）或者类似方法，例如：apt-file search filename | grep /bin/（只显示位于诸如/bin或/usr/bin这些文件夹中的文件，如果您要查找的是某个特定的执行文件的话，这样做是有帮助的）。</p>
</li>
</ul>
<p>＊ apt-get autoclean——定期运行这个命令来清除那些已经卸载的软件包的.deb文件。通过这种方式，您可以释放大量的磁盘空间。如果您的需求十分迫切，可以使用apt-get clean以释放更多空间。这个命令会将已安装软件包裹的.deb文件一并删除。大多数情况下您不会再用到这些.debs文件，因此如果您为磁盘空间不足而感到焦头烂额，这个办法也许值得一试。</p>
<p>典型应用</p>
<p>我是个赛车发烧友，想装个赛车类游戏玩玩。有哪些赛车类游戏可供选择呢？<br>apt-cache search racing game<br>出来了一大堆结果。看看有没有更多关于torcs这个游戏的信息。<br>apt-cache show torcs<br>看上去不错。这个游戏是不是已经安装了？最新版本是多少？它属于哪一类软件，universe还是main?<br>apt-cache policy torcs<br>好吧，现在我要来安装它！<br>apt-get install torcs<br>在控制台下我应该调用什么命令来运行这个游戏呢？在这个例子中，直接用torcs就行了，但并不是每次都这么简单。我们可一通过查找哪些文件被安 装到了 “/usr/bin”文件夹下来确定二进制文件名。对于游戏软件，这些二进制文件将被安装到“/usr/games”下面。对于系统管理工具相应的文件夹是“/usr/sbin”。<br>dpkg -L torcs|grep /usr/games/<br>这个命令的前面一部分显示软件包“torcs”安装的所有文件（您自己试试看）。通过命令的第二部分，我们告诉系统只显示前一部分的输出结果中含有“/usr/games”的那些行。<br>这个游戏很酷哦。说不定还有其他赛道可玩的？<br>apt-cache search torcs<br>我的磁盘空间不够用了。我得把apt的缓存空间清空才行。<br>apt-get clean<br>哦不，老妈叫我把机器上的所有游戏都删掉。但是我想把配置文件保留下来，这样待会我只要重装一下就可以继续玩了。<br>apt-get remove torcs<br>如果我想连配置文件一块删除：<br>apt-get remove –purge torcs<br>额外的软件包<br>deborphan和debfoster工具可以找出已经安装在系统上的不会被用到的软件包。<br>提高命令行方式下的工作效率<br>您可以通过定义别名（alias）来提高这些命令的输入速度。例如，您可以在您的<em>~/.bashrc</em>文件中添加下列内容</p>
<p>alias acs=’apt-cache search’<br>alias agu=’sudo apt-get update’<br>alias agg=’sudo apt-get upgrade’<br>alias agd=’sudo apt-get dist-upgrade’<br>alias agi=’sudo apt-get install’<br>alias agr=’sudo apt-get remove’</p>
<p>或者使用前面介绍的aptitude命令，如“alias agi=’sudo aptitude install’”。</p>
<p>———————————————————————————————-</p>
<p>aptitude 与 apt-get 一样，是 Debian 及其衍生系统中功能极其强大的包管理工具。与 apt-get 不同的是，aptitude 在处理依赖问题上更佳一些。举例来说，aptitude 在删除一个包时，会同时删除本身所依赖的包。这样，系统中不会残留无用的包，整个系统更为干净。以下是笔者总结的一些常用 aptitude 命令，仅供参考。<br>命令 作用<br>aptitude update 更新可用的包列表<br>aptitude upgrade 升级可用的包<br>aptitude dist-upgrade 将系统升级到新的发行版<br>aptitude install pkgname 安装包<br>aptitude remove pkgname 删除包<br>aptitude purge pkgname 删除包及其配置文件<br>aptitude search string 搜索包<br>aptitude show pkgname 显示包的详细信息<br>aptitude clean 删除下载的包文件<br>aptitude autoclean 仅删除过期的包文件</p>
<p>当然，你也可以在文本界面模式中使用 aptitude。</p>
<p>有的问题 apt-get 解决不了，必须使用 aptitude 解决，有的问题，用 aptitude 解决不了，必须使用 apt-get</p>
<p>aptitude 解决得更好的地方： install, remove, reinstall（apt-get无此功能）, show（apt-get无此功能）, search（apt-get无此功能）, hold（apt-get无此功能）, unhold（apt-get无此功能）,<br>apt-get 解决得更好的地方： source（aptitude无此功能）, build-dep （低版本的aptitude没有build-dep功能）<br>apt-get 跟 aptitude 没什么区别的地方：update, upgrade (apt-get upgrade=aptitude safe-upgrade, apt-get dist-upgrade=aptitude full-upgrgade)</p>
</div><div class="tags"><a href="/tags/Linux/">Linux</a></div><div class="post-nav"><a class="pre" href="/2016/05/26/数据搜索和筛选之正则表达式/">数据搜索和筛选之正则表达式</a><a class="next" href="/2016/05/04/Linux命令/">Ubuntu(Debian)的aptitude与apt-get的区别和联系</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://iusepython.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/FrontEnd/">FrontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spider/">Spider</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/Django/" style="font-size: 15px;">Django</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/Docker/" style="font-size: 15px;">Docker</a> <a href="/tags/ELK/" style="font-size: 15px;">ELK</a> <a href="/tags/Deploy/" style="font-size: 15px;">Deploy</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/IDE/" style="font-size: 15px;">IDE</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Database/" style="font-size: 15px;">Database</a> <a href="/tags/FrontEnd/" style="font-size: 15px;">FrontEnd</a> <a href="/tags/sqlalchemy/" style="font-size: 15px;">sqlalchemy</a> <a href="/tags/Virtualenv/" style="font-size: 15px;">Virtualenv</a> <a href="/tags/Html/" style="font-size: 15px;">Html</a> <a href="/tags/Flask/" style="font-size: 15px;">Flask</a> <a href="/tags/Node-js/" style="font-size: 15px;">Node.js</a> <a href="/tags/Shell/" style="font-size: 15px;">Shell</a> <a href="/tags/Spider/" style="font-size: 15px;">Spider</a> <a href="/tags/Vim/" style="font-size: 15px;">Vim</a> <a href="/tags/Webpack/" style="font-size: 15px;">Webpack</a> <a href="/tags/zsh/" style="font-size: 15px;">zsh</a> <a href="/tags/Others/" style="font-size: 15px;">Others</a> <a href="/tags/DA/" style="font-size: 15px;">DA</a> <a href="/tags/Socket/" style="font-size: 15px;">Socket</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/17/ELK/">ELK stack</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/12/磁盘查看/">磁盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/12/Sqlalchemy 的级联删除配置/">Sqlalchemy 的级联删除配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/12/参数装饰器/">参数装饰器</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/12/proc目录/">proc目录</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/04/日志搜索/">日志搜索</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/03/端口扫描/">Nmap</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/29/docker-compose/">docker-compose的语法和命令</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/17/快速查看大文件位置/">快速定位大文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/17/SSH config使用教程/">SSH config使用教程</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://github.com/fanhaipeng0403" title="Github" target="_blank">Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">好记性不如烂笔头.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>